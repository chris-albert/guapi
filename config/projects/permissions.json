{
  "name": "::permissions",
    "baseUrl": "https://authorization-{{settings.env}}.ticketfly.com",
  "tabs": [
    {
      "name": "::roles",
      "type": "rest",
      "path": "/v2/roles",
      "root": "role",
      "fields": [
        "::id",
        "::name",
        "::ownerOrgId",
        "::displayName",
        "::description"
      ]
    },
    {
      "name": "::permissions",
      "type": "rest",
      "path": "/v2/permissions",
      "root": "permission",
      "list": ["name"],
      "resources": ["list","view","create","delete"],
      "fields": [
        "::id",
        "::name",
        "::displayName",
        "::description"
      ]
    },
    {
      "name": "::employees",
      "type": "rest",
      "path": "/aggregator/v1/employees",
      "root": {
        "employee": [
          "id",
          "firstName",
          "lastName",
          "email",
          "role",
          "allEvents",
          "events"
        ]
      },
      "fields": [
        "::domainOrgId",
        "::clientOrgId",
        "::id",
        "::firstName",
        "::lastName",
        "::email",
        "::role",
        "::allEvents",
        "::events"
      ],
      "list": {
        "fields": ["domainOrgId","clientOrgId"],
        "response": {
          "root": "employees"
        }
      },
      "view": ["id","domainOrgId","clientOrgId"],
      "resources": ["list","view","create","update"]
    },
    {
      "name": "::check",
      "path": "/v2/authorizations",
      "method": "GET",
      "location": "query",
      "fields": [
        "::permissionId",
        "::permissionName",
        "::userId",
        "::domainOrgId",
        "::clientOrgId",
        "::eventId"
      ],
      "request": {
        "root": {
          "scope": ["domainOrgId","clientOrgId","eventId"]
        }
      }
    }
  ]
}
