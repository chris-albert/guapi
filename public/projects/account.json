{
  "name": "account",
  "display": "Account",
  "baseUrl": "https://{{settings.env}}.ticketfly.com",
  "endpoints": {
    "getToken": {
      "display": "Get Token",
      "path": "/account/oauth2/token",
      "method": "POST",
      "dataLocation": "form",
      "fields": [
        {
          "name": "username",
          "display": "Username"
        },
        {
          "name": "password",
          "display": "Password",
          "type": "password"
        },
        {
          "name": "grant_type",
          "type": "hidden",
          "value": "password"
        }
      ]
    },
    "checkToken": {
      "display": "Check Token",
      "path": "/account/oauth2/check_token",
      "method": "POST",
      "dataLocation": "query",
      "fields": ["token"]
    },
    "me": {
      "display": "Me",
      "path": "/account/v2/users/me",
      "method": "GET",
      "jsonRoot": "user",
      "auth": {
        "type": "bearer"
      }
    },
    "clientDetails": {
      "display": "Client Details",
      "path": "/account/v1/clients",
      "auth": "bearer",
      "type": "rest",
      "restId": "clientId",
      "request": {
        "list"  : [],
        "create": ["appName", "clientIdGen", "clientSecret", "authorities","grantTypes", "scopes"],
        "view"  : ["clientId"],
        "edit"  : ["appName", "clientIdGen", "clientSecret", "authorities","grantTypes", "scopes"]
      },
      "response": {
        "jsonRoot": "clients",
        "columns": [
          "id",
          "appName",
          "clientId",
          "clientSecret",
          "clientAuthorities",
          "grantTypes",
          "scopes"
        ],
        "actions": {
          "list": [
            {
              "type": "icon",
              "link": "{{route.base}}.view",
              "params": ["clientId"],
              "autoSubmit": true,
              "icon": "info-sign"
            }
          ],
          "view": [
            {
              "type": "button",
              "display": "Edit",
              "link": "{{route.base}}.edit",
              "params": ["appName", "clientIdGen", "clientSecret", "authorities","grantTypes", "scopes"]
            }
          ],
          "edit": [
            {
              "type": "button",
              "display": "View",
              "link": "{{route.base}}.view",
              "autoSubmit": true,
              "params": ["clientId"]
            }
          ]
        }
      },
      "fields": [
        {
          "name": "appName",
          "display": "App Name"
        },
        {
          "name": "clientId",
          "display": "Client Id"
        },
        {
          "name": "clientIdGen",
          "outName": "clientId",
          "display": "Client Id",
          "value": "Generated on Server",
          "disabled": true
        },
        {
          "name": "clientSecret",
          "display": "Client Secret",
          "value": "Generated on Server",
          "disabled": true
        },
        {
          "name": "authorities",
          "display": "Authorities",
          "value": [
            "ROLE_TFLY_CLIENT"
          ],
          "type": "select",
          "multi": true,
          "tags": true,
          "values": [
            {
              "display": "Ticketfly Client",
              "name": "ROLE_TFLY_CLIENT"
            }
          ]
        },
        {
          "name": "grantTypes",
          "outName": "authorizedGrantTypes",
          "display": "Grant Types",
          "value": [
            "authorization_code",
            "refresh_token"
          ],
          "type": "select",
          "multi": true,
          "values": [
            {
              "display": "Authorization Code",
              "name": "authorization_code"
            },
            {
              "display": "Refresh Token",
              "name": "refresh_token"
            },
            {
              "display": "Client Credentials",
              "name": "client_credentials"
            },
            {
              "display": "Password",
              "name": "password"
            },
            {
              "display": "Implicit",
              "name": "implicit"
            },
            {
              "display": "Assertion",
              "name": "assertion"
            }
          ]
        },
        {
          "name": "scopes",
          "outName": "scope",
          "display": "Scopes",
          "value": [
            "profile:read"
          ],
          "type": "select",
          "multi": true,
          "tags": true,
          "values": [
            {
              "display": "Profile Read",
              "name": "profile:read"
            },
            {
              "display": "Account Read",
              "name": "account:read"
            }
          ]
        }
      ]
    }
  }
}
