{
  "name": "permissions",
  "display": "Permissions",
  "baseUrl": "https://authorization-{{settings.env}}.ticketfly.com",
  "endpoints": {
    "createEmployee": {
      "display": "Create Employee",
      "path": "/aggregator/v1/employees",
      "method": "POST",
      "auth": "bearer",
      "dataLocation": "json",
      "jsonRoot": {
        "employee": ["id", "firstName", "lastName", "email", "role", "allEvents", "events"]
      },
      "fields": ["domainOrgId", "clientOrgId", "id", "firstName", "lastName", "email", "role", "allEvents", "events"]
    },
    "employees": {
      "display": "Employees",
      "path": "/aggregator/v1/employees",
      "auth": "bearer",
      "type": "rest",
      "restId": "id",
      "jsonRoot": {
        "employee": ["id", "firstName", "lastName", "email", "role", "allEvents", "events"]
      },
      "request": {
        "list"  : ["domainOrgId", "clientOrgId"],
        "create": ["domainOrgId", "clientOrgId", "id", "firstName", "lastName", "email", "role", "allEvents", "events"],
        "view"  : ["id","domainOrgId", "clientOrgId"],
        "edit"  : ["domainOrgId", "clientOrgId", "id", "firstName", "lastName", "email", "role", "allEvents", "events"]
      },
      "response": {
        "jsonRoot": "employee",
        "list": {
          "actions": [
            {
              "type": "icon",
              "link": "{{route.base}}.view",
              "params": ["id","domainOrgId", "clientOrgId"],
              "autoSubmit": true,
              "icon": "info-sign"
            }
          ]
        },
        "view": {
          "actions": [
            {
              "type": "button",
              "display": "Edit",
              "link": "{{route.base}}.edit",
              "params": ["domainOrgId", "clientOrgId", "id", "firstName", "lastName", "email", "role", "allEvents", "events"]
            }
          ]
        },
        "edit": {
          "actions": [
            {
              "type": "button",
              "display": "View",
              "link": "{{route.base}}.view",
              "autoSubmit": true,
              "params": ["id","domainOrgId", "clientOrgId"]
            }
          ]
        }
      },
      "fields": ["domainOrgId", "clientOrgId", "id", "firstName", "lastName", "email", "role", "allEvents", "events"]
    },
    "roles": {
      "display": "Roles",
      "path": "/v2/roles",
      "auth": "bearer",
      "type": "rest",
      "restId": "id",
      "jsonRoot": "role",
      "request": {
        "list"  : ["id", "name", "ownerOrgId"],
        "create": ["id", "name", "ownerOrgId"],
        "view"  : ["id"],
        "edit"  : ["name", "ownerOrgId"]
      },
      "fields": ["id", "name", "ownerOrgId", "createdTime"]
    }
  }
}
