{
  "name": "::account",
  "baseUrl": "https://{{settings.env}}.ticketfly.com",
  "tabs": [
    {
      "name": "::getToken",
      "path": "/account/oauth2/token",
      "method": "POST",
      "location": "form",
      "auth": {
        "type": "basic",
        "user": "settings.clientId",
        "pass": "settings.clientSecret"
      },
      "fields": [
        "::userName",
        "::password",
        {
          "name": "grant_type",
          "type": "hidden",
          "value": "password"
        }
      ]
    },
    {
      "name": "::checkToken",
      "path": "/account/oauth2/check_token",
      "method": "POST",
      "location": "query",
      "auth": {
        "type": "basic",
        "user": "settings.clientId",
        "pass": "settings.clientSecret"
      },
      "fields": ["::token"]
    },
    {
      "name": "::me",
      "path": "/account/v2/users/me",
      "method": "GET",
      "location": "query",
      "auth": "bearer",
      "fields": [],
      "response": {
        "root": "user"
      }
    },
    {
      "name": "::clientDetails",
      "type": "rest",
      "path": "/account/v1/clients",
      "root": "client",
      "idField": "clientId",
      "resources": ["list","view","create"],
      "fields": [
        "::appName",
        {
          "name": "::clientId",
          "disabled": true,
          "value": "Generated On Server"
        },
        {
          "name": "::clientSecret",
          "disabled": true,
          "value": "Generated On Server"
        },
        {
          "name": "::authorities",
          "type": "select",
          "multi": true,
          "value": ["ROLE_TFLY_CLIENT"],
          "values": ["ROLE_TFLY_CLIENT"]
        },
        {
          "name": "Grant Types::authorizedGrantTypes",
          "type": "select",
          "multi": true,
          "value": [
            "authorization_code",
            "refresh_token"
          ],
          "values": [
            "authorization_code",
            "refresh_token",
            "client_credentials",
            "password",
            "implicit",
            "assertion"
          ]
        },
        {
          "name": "::scopes",
          "type": "select",
          "multi": true,
          "addable": true,
          "values": [
            "profile:read",
            "account:read"
          ]
        }
      ]
    }
  ]
}
