{
  "name": "::permissions",
  "baseUrl": "https://authorization-{{settings.env}}.ticketfly.com",
  "tabs": [
    {
      "name": "::roles",
      "type": "rest",
      "path": "/v2/roles",
      "root": "role",
      "fields": [
        "::id",
        "::name",
        "::ownerOrgId"
      ]
    },
    {
      "name": "::permissions",
      "type": "rest",
      "path": "/v2/permissions",
      "root": "permission",
      "fields": [
        "::id",
        "::name",
        "::displayName",
        "::description"
      ]
    },
    {
      "name": "::employees",
      "type": "rest",
      "path": "/aggregator/v1/employees",
      "root": "employee",
      "fields": [
        "::domainOrgId",
        "::clientOrgId",
        "::id",
        "::firstName",
        "::lastName",
        "::email",
        "::role",
        "::allEvents",
        "::events"
      ],
      "list": ["domainOrgId","clientOrgId"],
      "view": ["id","domainOrgId","clientOrgId"],
      "resources": ["list","view","create","update"],
      "create": {
        "root": {
          "employee": [
            "id",
            "firstName",
            "lastName",
            "email",
            "role",
            "allEvents",
            "events"
          ]
        }
      }
    },
    {
      "name": "::Check",
      "path": "/v2/authorizations",
      "method": "GET",
      "location": "query",
      "fields": [
        "::permissionId",
        "::permissionName",
        "::userId",
        "Domain Org Id::scope.domainOrgId",
        "Client Org Id::scope.clientOrgId",
        "Event Id::scope.eventId"
      ],
      "request": {
        "root": {
          "scope": ["domainOrgId","clientOrgId","eventId"]
        }
      }
    }
  ]
}
